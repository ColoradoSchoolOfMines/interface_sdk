package edu.mines.acmX.exhibit.module_manager;

<<<<<<< HEAD
import java.util.concurrent.CountDownLatch;

=======
/**
 * Non graphical versions of Module should extend from this.
 *
 * @author	Andrew DeMaria
 * @author	Austin Diviness
 */
>>>>>>> origin/api_build
public abstract class CommandlineModule implements ModuleInterface {

	/**
	 * allows CommandlineModule to mimic multiple inheritence by 
	 * using delegation to wrap ModuleHelper's function in its own
	 */
    private final ModuleHelper module;

    public CommandlineModule() {
        super();
        module = new ModuleHelper();
    }

	/**
	 * Wrapper function for ModuleHelper's setNextModuleToLoad
	 *
	 * @param	moduleName	Package name of next Module to load
	 *
	 * @return				true if loaded, false otherwise
	 */
    public boolean setNextModuleToLoad( String moduleName ) {
        return module.setNextModuleToLoad( moduleName );
    }

    /**
     * This function runs the entire Module and needs to be overloaded.
     *
     * TODO
     * However, this function will probably change to be more consistent with
     * ProcessingModule's API in that there will be setup and update functions
     * and the possibility of turning on or off looping.
     *
     */
    public final void init(CountDownLatch waitForModule) {
    	module.init(waitForModule);
    }
    
    public final void execute() {
    	this.run();
    	this.finishExecution();
    }
    
    public final void finishExecution() {
    	module.finishExecution();
    }
    
    public abstract void run();

}


